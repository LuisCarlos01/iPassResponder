{% extends 'base.html' %}

{% block title %}Adicionar Regra{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h4>Nova Regra</h4>
    <a href="{{ url_for('list_rules') }}" class="btn btn-sm btn-outline-secondary">
        Voltar
    </a>
</div>

<div class="row">
    <div class="col-md-8">
        <div class="card mb-4">
            <div class="card-body">
                <form method="post" action="{{ url_for('add_rule') }}">
                    <div class="mb-3">
                        <label for="keyword" class="form-label">Palavra-chave</label>
                        <input type="text" class="form-control" id="keyword" name="keyword" required>
                        <div class="form-text small">Palavra ou frase que ativará esta regra quando encontrada em um email.</div>
                    </div>

                    <div class="mb-3">
                        <label for="response" class="form-label">Resposta</label>
                        <textarea class="form-control" id="response" name="response" rows="5" required></textarea>
                        <div class="form-text small">Resposta automática que será enviada quando a palavra-chave for identificada.</div>
                    </div>

                    <div class="mb-3 form-check">
                        <input type="checkbox" class="form-check-input" id="is_active" name="is_active" checked>
                        <label class="form-check-label" for="is_active">Regra ativa</label>
                    </div>

                    <div class="mt-3">
                        <button type="submit" class="btn btn-success">
                            Salvar
                        </button>
                        <a href="{{ url_for('list_rules') }}" class="btn btn-outline-secondary ms-2">Cancelar</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="card mb-4">
            <div class="card-body">
                <h5 class="card-title mb-3">Dicas</h5>
                
                <h6 class="mb-2 small fw-bold">Exemplos de Palavras-chave:</h6>
                <ul class="small text-muted ps-3 mb-3">
                    <li>Palavras únicas: "orçamento", "suporte"</li>
                    <li>Frases curtas: "solicitar orçamento"</li>
                </ul>

                <h6 class="mb-2 small fw-bold">Exemplo de Resposta:</h6>
                <div class="small text-muted mb-2">Para palavra-chave "orçamento":</div>
                <div class="small bg-dark p-2 rounded text-light mb-3">
                    Obrigado por solicitar um orçamento.<br><br>
                    Para podermos atendê-lo melhor, precisamos das seguintes informações:<br>
                    1. Descrição detalhada do produto/serviço<br>
                    2. Quantidade necessária<br>
                    3. Data de entrega desejada
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}